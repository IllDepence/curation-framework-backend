version: '2'

services:
  jsonkeeper:
    build: ./JSONkeeper
    labels:
      - 'curation_platform_strtport'
    ports:
      - 'jkport:8000'
    volumes:
      - ./JSONkeeper/config.ini:/jsonkeeper/config.ini

  canvasindexer:
    build: ./Canvas-Indexer
    labels:
      - 'curation_platform_strtport'
    ports:
      - 'ciport:8000'
    volumes:
      - ./Canvas-Indexer/config.ini:/canvasindexer/config.ini
      - ./Canvas-Indexer/log.txt:/canvasindexer/log.txt

  curationfinder:
    build: ./IIIFCurationFinder
    labels:
      - 'curation_platform_strtport'
    ports:
      - 'cfport:80'

  curationviewer:
    build: ./IIIFCurationViewer
    labels:
      - 'curation_platform_strtport'
    ports:
      - 'cvport:80'

  curationmanager:
    build: ./IIIFCurationManager
    labels:
      - 'curation_platform_strtport'
    ports:
      - 'cmport:80'

  curationeditor:
    build: ./IIIFCurationEditor
    labels:
      - 'curation_platform_strtport'
    ports:
      - 'ceport:80'

  loris:
    image: 'lorisimageserver/loris'
    labels:
      - 'curation_platform_strtport'
    ports:
      - 'lport:5004'
    volumes:
      - ./loris/images:/opt/loris/tests/img
